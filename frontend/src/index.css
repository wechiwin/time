@tailwind base;
@tailwind components;
@tailwind utilities;

/* 全局表单控件样式 */
.input-field {
    @apply w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all;
}

/* 全局按钮样式 */
.btn-primary {
    @apply px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors;
}

.btn-danger {
    @apply px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors;
}

/* 表格样式 */
.table-container {
    @apply overflow-x-auto border border-gray-200 rounded-lg
    max-w-full;
}

.table-header {
    @apply px-3 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50;
}

.table-cell {
    @apply px-3 md:px-6 py-3 text-sm text-gray-500;
}

@layer components {
    /* 卡片或页面背景 */
    .page-bg {
        @apply bg-gray-50 dark:bg-gray-900;
    }

    /* 卡片 */
    .card {
        @apply bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700
        rounded-lg shadow-sm hover:shadow-md transition-shadow;
    }

    /* 表单输入框 */
    .input-field {
        @apply w-full pl-3 pr-4 py-2 border border-gray-300 dark:border-gray-600
        rounded-md shadow-sm focus:ring-2 focus:ring-blue-500
        focus:border-blue-500 bg-white dark:bg-gray-800
        text-gray-900 dark:text-gray-100;
    }

    .read-only-input {
        background-color: #f3f4f6; /* 浅灰色背景 */
        color: #6b7280; /* 灰色文字 */
        cursor: not-allowed;
        opacity: 1; /* 确保不透明 */
    }

    .btn-group {
        @apply flex flex-wrap gap-2 w-full md:w-auto;
    }

    /* 主按钮 */
    .btn-primary {
        @apply px-4 py-2 bg-blue-600 text-white rounded-md
        hover:bg-blue-700
        focus:outline-none focus:ring-2 focus:ring-blue-500;
    }

    .btn-secondary {
        @apply px-4 py-2 bg-gray-200 dark:bg-gray-700
        text-gray-800 dark:text-gray-200
        rounded-md hover:bg-gray-300 dark:hover:bg-gray-600
        focus:outline-none focus:ring-2 focus:ring-gray-400;
    }

    /* 危险按钮 */
    .btn-danger {
        @apply px-4 py-2 bg-red-600 text-white rounded-md
        hover:bg-red-700
        focus:outline-none focus:ring-2 focus:ring-red-500;
    }

    /* 表格容器 */
    .table-container {
        @apply overflow-x-auto border border-gray-200 dark:border-gray-700 rounded-lg;
        -webkit-overflow-scrolling: touch;
    }

    /* 表头 */
    .table-header {
        @apply px-3 py-2 md:px-6 md:py-3 text-xs md:text-sm font-medium
        text-gray-500 dark:text-gray-400 tracking-wider
        bg-gray-50 dark:bg-gray-700;
    }

    /* 单元格 */
    .table-cell {
        @apply px-3 py-2 md:px-6 md:py-4 whitespace-nowrap
        text-xs md:text-sm text-gray-900 dark:text-gray-100
        border-b border-gray-200 dark:border-gray-700;
    }

    /* 搜索区容器：flex 布局、间距、右端按钮组自动靠右 */
    .search-bar {
        @apply flex flex-col md:flex-row items-stretch md:items-center gap-2;
    }

    /* 搜索输入框：宽度、圆角、边框、focus 状态 */
    .search-input {
        @apply w-full md:w-64 lg:w-96 px-3 py-2 border border-gray-300 rounded-md
        focus:outline-none focus:ring-2 focus:ring-blue-500
        dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100;
    }

    /* 对比基金标签 */
    .tag {
        @apply inline-flex items-center px-2 py-1 rounded-full text-sm
        bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200;
    }

    .tag .remove {
        @apply ml-1 text-blue-600 dark:text-blue-300 hover:text-blue-800 dark:hover:text-blue-100;
    }

    .chart-box {
        @apply w-full min-h-[300px] md:min-h-[400px] flex items-center justify-center;
    }

    .chart-box .loading {
        @apply text-gray-500 dark:text-gray-400 text-sm;
    }

    .react-datepicker {
        transform: scale(0.9);
        transform-origin: top left;
    }

    .react-datepicker__year-select,
    .react-datepicker__month-select {
        @apply px-3 h-8 text-sm rounded-md border border-slate-300;
    }


    /* 移动端优化 */
    @media (max-width: 768px) {
        /* 模态框全屏 */
        .modal-container {
            @apply w-full h-full max-w-none rounded-none;
        }

        /* 表格单元格缩小内边距 */
        .table-cell {
            @apply px-2 py-2 text-xs;
        }

        /* 按钮文字不换行 */
        .btn-primary, .btn-secondary, .btn-danger {
            @apply whitespace-nowrap text-sm;
        }

        /* 表单按钮垂直排列 */
        .form-actions {
            @apply flex-col space-y-2 space-x-0 w-full;
        }

        /* 图表高度调整 */
        .chart-box {
            @apply min-h-[250px];
        }

        /* 移动端触摸友好的按钮 */
        .touch-button {
            @apply px-4 py-3 text-base;
        }

        /* 移动端滚动优化 */
        .scroll-container {
            -webkit-overflow-scrolling: touch;
        }

        /* 移动端字体大小 */
        body {
            font-size: 14px;
        }
    }

    /* 表单输入框图标适配 */
    .input-icon {
        @apply absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none;
    }

    /* 移动端友好的下拉菜单 */
    .mobile-select {
        @apply block w-full px-3 py-2 text-base border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500;
    }

    /* 触摸友好的按钮 */
    .touch-button {
        @apply px-4 py-3 text-base; /* 更大的点击区域 */
    }

    /* 移动端导航优化 */
    .mobile-nav {
        @apply fixed inset-0 bg-white z-50 overflow-y-auto;
    }

    /* 移动端列表项 */
    .mobile-list-item {
        @apply p-3 border-b border-gray-200 last:border-b-0;
    }

    /* 移动端间距优化 */
    .mobile-padding {
        @apply p-3;
    }

    .mobile-margin {
        @apply m-3;
    }
}
